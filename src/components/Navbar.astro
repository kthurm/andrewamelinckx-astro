---
const links = [
  { name: 'Home', path: '/' },
  { name: 'Bio', path: '/bio' },
  { name: 'Books', path: '/books' },
  { name: 'Events', path: '/events' },
  { name: 'Press', path: '/press' },
];

const currentPath = Astro.url.pathname;
---

<div>
  <div class="bg-background fixed w-full shadow-xl z-50">
    <div class="container mx-auto w-full flex justify-between lg:items-center py-8">
  
  <a href="/" class="font-family-header text-2xl md:text-4xl text-text hover:text-primary">
    Andrew Amelinckx
  </a>

      <nav id="nav-menu" class="nav-menu">
        <ul class="flex flex-col lg:flex-row p-6 lg:p-0 space-y-4 lg:space-y-0 lg:space-x-7 uppercase font-body text-right text-sm font-bold">
          {links.map(({ name, path }) => (
            <li>
              <a
                class={`text-text hover:text-primary transition-colors ${currentPath === path ? 'text-primary' : ''}`}
                href={path}
              >
                {name}
              </a>
            </li>
          ))}
        </ul>
      </nav>

      <button
        id="menu-toggle"
        class="block lg:hidden text-xl z-50"
        aria-label="Toggle menu"
      >
        <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>
  <!-- <div class="h-[4rem] lg:h-[4.3rem]"></div> -->
</div>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.getElementById('menu-toggle');
    const navMenu = document.getElementById('nav-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    menuToggle?.addEventListener('click', () => {
      navMenu?.classList.toggle('open');
      menuIcon?.classList.toggle('hidden');
      closeIcon?.classList.toggle('hidden');
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      const target = e.target as HTMLElement;
      if (!navMenu?.contains(target) && !menuToggle?.contains(target)) {
        navMenu?.classList.remove('open');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
      }
    });

    // Close menu when clicking a link
    const navLinks = navMenu?.querySelectorAll('a');
    navLinks?.forEach(link => {
      link.addEventListener('click', () => {
        navMenu?.classList.remove('open');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
      });
    });
  });
</script>